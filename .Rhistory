axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, addse(1:length(mean.drymass), y = mean.drymass, se = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
g
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, addse(1:length(mean.drymass), y = mean.drymass, se = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
plantGrowth
agg.plantGrowth
dnorm(6)
?rnorm
confint
?confint
qt(.95, 6)
qt(.95, 600 )
qt(.95, 600, lower.tail = TRUE)
qt(.95, 600, lower.tail = FALSE)
qt(.95, 1, lower.tail = TRUE)
qt(.95, 5, lower.tail = TRUE)
qt(.95, 7, lower.tail = TRUE)
qt(.95, 10000000000, lower.tail = TRUE)
qt(.95, 1, lower.tail = TRUE)
qt(.95, 10, lower.tail = TRUE)
qt(.95, 5, lower.tail = TRUE)
qt(.025, 5, lower.tail = TRUE)
qt(.025, 5)
qt(.025, 10)
qt(.025, 9)*
qt(.025, 9)
qt(.025, 9, lower.tail = TRUE)
qt(.025, 9, lower.tail = FALSE)
qt(.025, 9, lower.tail = FALSE, 2.5/sqrt(10))
qt(.025, 9, lower.tail = FALSE)*2.5/sqrt(10)
5-qt(.025, 9, lower.tail = FALSE)*2.5/sqrt(10)
5+qt(.025, 9, lower.tail = FALSE)*2.5/sqrt(10)
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N), ss=SE.drymass ), by=list(N, P)]
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N), int95=qt(.025, .N-1)*sd(drymass)/sqrt(.N) ), by=list(N, P)]
agg.plantGrowth
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N), int95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ), by=list(N, P)]
agg.plantGrowth
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
U95=mean(drymass+abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N)), by=list(N, P)]
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N), L95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ), by=list(N, P)]
agg.plantGrowth
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N), int95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ), by=list(N, P)]
agg.plantGrowth
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+95int), length.out=length(mean.drymass))  )]
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+int95), length.out=length(mean.drymass))  )]
#' This function prepares the plotting area with a blank plot
#' @param x X values for error bar addition.
#' @param y Y values for error bar addition (typically mean Y values)
#' @param errorbar Length of lower and upper error bars as a vector of length 2 (or 1 if symmetrical)
#' @keywords plot
#' @export
#' @examples
#' blankplot(1:10, 1:10)
#' points(1:10, run)
#'
adderrorbars<-function(x, y, errorbar, length=.07, col=1, horiz=FALSE){
errorcount <- ncol(as.data.frame(errorbar))
if (errorcount==1) errorUse <- data.frame(LL=errorbar, UL=errorbar)
if (errorcount==2) errorUse <- data.frame(LL=errorbar[,1], UL=errorbar[,2])
if !(errocount %in% 1:2) break
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = int95)]
b
#' This function prepares the plotting area with a blank plot
#' @param x X values for error bar addition.
#' @param y Y values for error bar addition (typically mean Y values)
#' @param errorbar Length of lower and upper error bars as a vector of length 2 (or 1 if symmetrical)
#' @keywords plot
#' @export
#' @examples
#' blankplot(1:10, 1:10)
#' points(1:10, run)
#'
adderrorbars<-function(x, y, errorbar, length=.07, col=1, horiz=FALSE){
errorcount <- ncol(as.data.frame(errorbar))
if (errorcount==1) errorUse <- data.frame(LL=errorbar, UL=errorbar)
if (errorcount==2) errorUse <- data.frame(LL=errorbar[,1], UL=errorbar[,2])
if !(errocount %in% 1:2) break
#' This function prepares the plotting area with a blank plot
#' @param x X values for error bar addition.
#' @param y Y values for error bar addition (typically mean Y values)
#' @param errorbar Length of lower and upper error bars as a vector of length 2 (or 1 if symmetrical)
#' @keywords plot
#' @export
#' @examples
#' blankplot(1:10, 1:10)
#' points(1:10, run)
#'
adderrorbars<-function(x, y, errorbar, length=.07, col=1, horiz=FALSE){
errorcount <- ncol(as.data.frame(errorbar))
if (errorcount==1) errorUse <- data.frame(LL=errorbar, UL=errorbar)
if (errorcount==2) errorUse <- data.frame(LL=errorbar[,1], UL=errorbar[,2])
if (!(errocount %in% 1:2)) break
if (horiz) {arrows(x-errorUse[,1], y, x+errorUse[,2], y, code=3, angle=90, length=length, col=col)} else {
arrows(x, y-errorUse[,1], x, y+errorUse[,2], code=3, angle=90, length=length, col=col)
}
}
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+int95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = int95)]
#' This function prepares the plotting area with a blank plot
#' @param x X values for error bar addition.
#' @param y Y values for error bar addition (typically mean Y values)
#' @param errorbar Length of lower and upper error bars as a vector of length 2 (or 1 if symmetrical)
#' @keywords plot
#' @export
#' @examples
#' blankplot(1:10, 1:10)
#' points(1:10, run)
#'
adderrorbars<-function(x, y, errorbar, length=.07, col=1, horiz=FALSE){
errorcount <- ncol(as.data.frame(errorbar))
if (errorcount==1) errorUse <- data.frame(LL=errorbar, UL=errorbar)
if (errorcount==2) errorUse <- data.frame(LL=errorbar[,1], UL=errorbar[,2])
if (!(errorcount %in% 1:2)) break
if (horiz) {arrows(x-errorUse[,1], y, x+errorUse[,2], y, code=3, angle=90, length=length, col=col)} else {
arrows(x, y-errorUse[,1], x, y+errorUse[,2], code=3, angle=90, length=length, col=col)
}
}
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+int95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = int95)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+int95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = int95)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g) with 95% CI"), line1=4.5)
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+int95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = int95)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g) with 95% CI"), line1=4.5)
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = 2*SE.drymass)]
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N), int95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ), by=list(N, P)]
agg.plantGrowth
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N), int95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ), by=list(N, P)]
agg.plantGrowth
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N), plusminusCI95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ), by=list(N, P)]
agg.plantGrowth
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+plusminusCI95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = int95)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
x11()
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+plusminusCI95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = int95)]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = plusminusCI95)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g) with 95% CI"), line1=4.5)
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N),
plusminusCI95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ),
by=list(N, P)]
agg.plantGrowth
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4, cex=2)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=1, cex=1.5)]
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4, cex=2)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=1, cex=1.15)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4, cex=2)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=1, cex=1.15)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of watering solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
?devtools::use data
?use data
library(devtool)
library(devtools)
?devtools::use data
?devtools::use_data
?use_data
devtools::use data(plantGrowth)
devtools::use_data(plantGrowth)
devtools::use_data(plantGrowth, JGTools)
devtools::use_data("plantGrowth", JGTools)
save(plantGrowth, "./data/plantGrowth.rda")
bu()
save(plantGrowth, "./data/plantGrowth.rda")
save(plantGrowth, file= "./data/plantGrowth.rda")
devtools::use_data(plantGrowth, JGTools)
data("plantGrowth")
rm(plantGrowth)
plantGrowth
data("plantGrowth")
plantGrowth
data(plantGrowth)
data(plantGrowth)
library("devtools")
#devtools::install_github("klutometis/roxygen", lib = Sys.getenv("R_LIBS_USER"))
#devtools::install_github
library(roxygen2)
document()
# use data.table to aggregate data by treatment and calculate useful descriptive stats.
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N),
plusminusCI95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ),
by=list(N, P)]
data(plantGrowth)
# use data.table to aggregate data by treatment and calculate useful descriptive stats.
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N),
plusminusCI95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ),
by=list(N, P)]
agg.plantGrowth
plantGrowth
# use data.table to aggregate data by treatment and calculate useful descriptive stats.
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N),
plusminusCI95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ),
by=list(N, P)]
agg.plantGrowth
plantGrowth
as.data.table(plantGrowth)
library(data.table)
data(plantGrowth)
as.data.table(plantGrowth)
plantGrowth <- as.data.table(plantGrowth)
# use data.table to aggregate data by treatment and calculate useful descriptive stats.
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N, SE.drymass=sd(drymass)/sqrt(.N)), by=list(N, P)]
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N, SE.drymass=sd(drymass)/sqrt(.N)), by=list(N, P)]
# use data.table to aggregate data by treatment and calculate useful descriptive stats.
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N),
plusminusCI95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ),
by=list(N, P)]
agg.plantGrowth
x11()
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4, cex=2)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=1, cex=1.15)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of watering solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+plusminusCI95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = plusminusCI95)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g) with 95% CI"), line1=4.5)
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = plusminusCI95)]
#' This function prepares the plotting area with a blank plot
#' @param x X values for error bar addition.
#' @param y Y values for error bar addition (typically mean Y values)
#' @param errorbar Length of lower and upper error bars as a vector of length 2 (or 1 if symmetrical)
#' @keywords plot
#' @export
#' @examples
#' blankplot(1:10, 1:10)
#' points(1:10, run)
#'
adderrorbars<-function(x, y, errorbar, length=.07, col=1, horiz=FALSE){
errorcount <- ncol(as.data.frame(errorbar))
if (errorcount==1) errorUse <- data.frame(LL=errorbar, UL=errorbar)
if (errorcount==2) errorUse <- data.frame(LL=errorbar[,1], UL=errorbar[,2])
if (!(errorcount %in% 1:2)) break
if (horiz) {arrows(x-errorUse[,1], y, x+errorUse[,2], y, code=3, angle=90, length=length, col=col)} else {
arrows(x, y-errorUse[,1], x, y+errorUse[,2], code=3, angle=90, length=length, col=col)
}
}
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4, cex=2)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=1, cex=1.15)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of watering solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+plusminusCI95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = plusminusCI95)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of solution)")) ,
expression("Aboveground dry mass (g) with 95% CI"), line1=4.5)
adderrorbars
document()
devtools::use_data(plantGrowth)
install.packages("usethis")
install.packages("usethis")
library("usethis")
usethis::use_data(plantGrowth)
plantGrowth
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+plusminusCI95), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = plusminusCI95)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4)]
data(plantGrowth)
plantGrowth <- as.data.table(plantGrowth)
# use data.table to aggregate data by treatment and calculate useful descriptive stats.
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N),
plusminusCI95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ),
by=list(N, P)]
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
library(data.table)
data(plantGrowth)
plantGrowth <- as.data.table(plantGrowth)
# use data.table to aggregate data by treatment and calculate useful descriptive stats.
agg.plantGrowth <- plantGrowth[, list(mean.drymass=mean(drymass), sd=sd(drymass), N=.N,
SE.drymass=sd(drymass)/sqrt(.N),
plusminusCI95=abs(qt(.025, .N-1))*sd(drymass)/sqrt(.N) ),
by=list(N, P)]
# x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4, cex=2)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=1, cex=1.15)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of watering solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
library(JGTools)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of watering solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4, cex=2)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=1, cex=1.15)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
x11() #or quartz() (windows and mac, respectively)
par(cex.axis=1.5, mar=c(6,6,1,1))
agg.plantGrowth[, blankplot(1:length(mean.drymass)+c(-.2, .2),
seq(0, max(mean.drymass+SE.drymass), length.out=length(mean.drymass))  )]
agg.plantGrowth[, adderrorbars(1:length(mean.drymass), y = mean.drymass, errorbar = SE.drymass)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=4, cex=2)]
agg.plantGrowth[, points(1:length(mean.drymass), mean.drymass, pch=19, col=1, cex=1.15)]
axx(x=FALSE)
agg.plantGrowth[, mtext(cex=1.4, at=1:length(mean.drymass), c(.1, 1, .1, 1), side=1, line=1, col="dark blue")]
agg.plantGrowth[, mtext(cex=1.4, at=c(1.5, 3.5), c(.04, .4), side=1, line=2.5, col="dark red")]
mtext(at=0.05, side=1, line=1, col="dark blue", "Nitrogen:", adj=0, cex=1.4)
mtext(at=0.05, side=1, line=2.5, col="dark red", "Phosphorus:", adj=0, cex=1.4)
mtxx(expression(paste("Nutrient levels (g·L"^{-1}," of watering solution)")) ,
expression("Aboveground dry mass (g)  " %+-% "SE"), line1=4.5)
plantGrowth
document()
#devtools::install_github("klutometis/roxygen", lib = Sys.getenv("R_LIBS_USER"))
#devtools::install_github
library(roxygen2)
library("devtools")
library("usethis")
document()
rm(list = c("adderrorbars"))
document()
rm(list=ls())
library(JGTools)
library(devtools)
install_github("jg44/JGTools", upgrade = TRUE)
rm(list=ls())
install_github("jg44/JGTools", upgrade = TRUE)
